<div *ngIf="movie as m; else notFound" class="max-w-5xl mx-auto p-6 animate-detail">
  <button (click)="back()"
          class="text-sm mb-4 px-3 py-1 rounded-full border hover:bg-gray-50">
    ← Back to list
  </button>

  <div class="grid md:grid-cols-[320px_1fr] gap-6 items-start">
    <img class="w-[320px] h-[500px] object-cover rounded-2xl shadow"
         [src]="m.posterUrl" [alt]="m.title" (error)="onImgError($event)" />

    <div>
      <h1 class="text-3xl font-bold mb-2">{{ m.title }}</h1>
      <div class="flex flex-wrap gap-4 text-gray-600 mb-4">
        <span><span class="font-semibold">Year:</span> {{ m.releaseYear }}</span>
        <span><span class="font-semibold">Director:</span> {{ m.director }}</span>
        <span><span class="font-semibold">Category:</span> {{ m.category }}</span>
        <span><span class="font-semibold">Rating:</span> {{ m.rating | number:'1.1-1' }}/10</span>
      </div>

      <p class="leading-7 text-gray-800 mb-4 whitespace-pre-line">{{ m.description }}</p>

      <!-- Add to Watchlist -->
      <button (click)="addToWatchlist()"
              class="px-4 py-2 rounded-full border hover:bg-gray-50">
        + Add to Watchlist
      </button>
    </div>
  </div>
</div>

<ng-template #notFound>
  <div class="max-w-xl mx-auto p-10 text-center">
    <h2 class="text-xl font-semibold mb-3">We couldn’t find that movie.</h2>
    <a routerLink="/movies/list"
       class="inline-block px-4 py-2 rounded-full border hover:bg-gray-50">← Back to list</a>
  </div>
</ng-template>
